## 請說明雜湊跟加密的差別在哪裡，為什麼密碼要雜湊過後才存入資料庫

儲存明文密碼一旦資料庫被入侵，密碼也就被駭了，不以明文儲存使用者的密碼，也是對使用者隱私的基本保護，倘若內部開發人員拿著明文密碼去別的網站、服務或是網銀嘗試，就會產生資全問題。

在儲存密碼時，使用雜湊不使用加密，是因為雜湊是不可逆的，無法逆向還原，而加密是可以解密的，只要加密的密鑰被掌握（為了驗證使用者登入，這個密鑰很有可能就存在 Server 上），就能夠輕鬆的還原出原來的密碼，此外，一旦有任何人類（可能是某個開發人員）知道這個密鑰，也就有可能被拿去做不法使用的風險。

使用雜湊演算法時，雖無法逆向還原，但不同的輸入也有可能生成相同的雜湊碼。也因為這個特性，一些簡單的雜湊方法，還是有可能被有心人士利用。所以如 MD5 等一些簡單的雜湊演算法是不夠安全的，像是 [md5hashing](https://md5hashing.net) 之類的網站上就提供超過 60 種雜湊演算法的破解服務。

為了加強雜湊的安全性，可以利用加鹽方法（Salting），在執行雜湊運算前先加入額外的字串，這樣雜湊碼即使被破解了，也無法得到真實的密碼，但更進一步地，如果駭客還是成功暴力破解了加鹽的字串，一旦成功破解第一組密碼，其他密碼也都暴露了，所以我們需要隨機生成的 Salt 來讓雜湊更安全。如 PHP 提供的  password_hash 方法可以隨機生成處理 Salt，所以即使是開發人員也不會知道每次的 Salt 是什麼，至此我們的密碼儲存又更安全了。


## `include`、`require`、`include_once`、`require_once` 的差別

如果引入進來的檔案發生錯誤，使用 include 會顯示警告但繼續執行往下的程式碼；但 require 引入一旦錯誤，會立即終止程式。而 include_once 和 require_once 則是在引入檔案前會先檢查是否在其他地方已經引入過了，若有就不會重複引入檔案。此外， include 可以用在迴圈但 require 則否。

## 請說明 SQL Injection 的攻擊原理以及防範方法

### 攻擊原理
如果網頁上的 input 是有把值存在資料庫的動作時，駭客就可利用字串拼接的方式來改變原來的 SQL 意思，來改變內容，甚至進一步撈取資料。

### 防範方法
使用 Prepared statement：
```php
$stmt = $conn->prepare($sql);
$stmt->bind_param('sss', $nickname, $content);
$result = $stmt->execute();
```
 
 
##  請說明 XSS 的攻擊原理以及防範方法

### 攻擊原理
如果在畫面上呈現的內容是使用者可以控制的，使用者就可以輸入能被解析的 `<script>` 或 HTML 標籤來改變網站內容。例如在input 欄位裡面輸入 `<script>alert('hack')</script>`。

### 防範方法
利用 PHP 內建的 `htmlspecialchars` 來跳脫字元

## 請說明 CSRF 的攻擊原理以及防範方法

### 攻擊原理
利用各種偽裝的方法偽造一個對目標網站合法的 request 在某個網站 action 內（可能點了一個連結，一張圖片等），因為使用者的瀏覽器自帶有其目標網站驗證身分用的 cookie，所以一旦這個釣魚 action 被觸發，就可以成功讓使用者在不知情的情況下發出 request 給目標網站，從而做一些不法的事。

### 防範方法
因為攻擊者的沒辦法讀寫目標網站的 cookie，而且也不能設置目標網站的 cookie，我們可以使用 Double Submit Cookie 的 CSRF Token，存一個 token 在 Client 端的 cookie 裡，每次 Client 發出 Request 時，就比 form 裡面的 POST 是否也帶有這個 token，就知道是不是真的使用者發出的 Request了。 